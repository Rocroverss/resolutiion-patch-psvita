[gd_scene load_steps=28 format=2]

[ext_resource path="res://scenes/testscene/testscene.gd" type="Script" id=1]
[ext_resource path="res://player/PlayerCamera2D.scn" type="PackedScene" id=2]
[ext_resource path="res://scenes/Navigation.gd" type="Script" id=3]
[ext_resource path="res://scenes/tilemap.tres" type="TileSet" id=4]
[ext_resource path="res://scenes/CloudCity/TowerFloor1.png" type="Texture" id=5]
[ext_resource path="res://objects/TransitionEvent.gd" type="Script" id=6]
[ext_resource path="res://objects/LimiterEvent.gd" type="Script" id=7]
[ext_resource path="res://global/Shapes/rectangle.png" type="Texture" id=8]
[ext_resource path="res://objects/SaveStation.scn" type="PackedScene" id=9]
[ext_resource path="res://player/PlayerDummy.scn" type="PackedScene" id=10]
[ext_resource path="res://objects/CrateM.scn" type="PackedScene" id=11]
[ext_resource path="res://objects/Memory.scn" type="PackedScene" id=12]
[ext_resource path="res://npcs/Blood.scn" type="PackedScene" id=13]
[ext_resource path="res://objects/LetterDevice.scn" type="PackedScene" id=14]
[ext_resource path="res://objects/Collectibles.scn" type="PackedScene" id=15]
[ext_resource path="res://objects/AreaEvent.gd" type="Script" id=16]
[ext_resource path="res://objects/TriggerArea.scn" type="PackedScene" id=17]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 528, 416, 576, 192, 576, 528, 528, 464, 528, 400, 176, 320, 304, 192, 256, 400, 144, 384, 720, 592, 720, 576, 1056, 304, 1072, 528, 1072, 672, 944, 672, 1088, 304, 1168, 384, 1168, 480, 1120, 480, 224, 656, 224, 624, 352, 624, 304, 688, 832, 704, 608, 720, 352, 592, 944, 704, 832, 720, 336, 720, 160, 688, 208, 656, 208, 608, 160, 528, 176, 512, 144, 320, 176, 416, 256, 560, 304, 528, 288, 528, 288, 416, 336, 496, 464, 528, 464, 416, 512, 464, 624, 528, 624, 192, 656, 192, 336, 608, 288, 560, 672, 176, 992, 176, 1056, 240, 528, 576, 512, 576, 368, 576, 416, 528, 368, 464, 416, 416, 288, 544 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 1, 0, 4 ), PoolIntArray( 5, 6, 1, 4, 7, 8 ), PoolIntArray( 9, 10, 11, 12, 13, 14 ), PoolIntArray( 15, 16, 17, 18, 11 ), PoolIntArray( 19, 20, 21, 22 ), PoolIntArray( 23, 24, 21, 25, 9, 14 ), PoolIntArray( 14, 26, 23 ), PoolIntArray( 23, 27, 24 ), PoolIntArray( 21, 24, 28, 22 ), PoolIntArray( 19, 22, 29, 30 ), PoolIntArray( 31, 30, 29, 32, 33 ), PoolIntArray( 8, 34, 5 ), PoolIntArray( 35, 8, 7 ), PoolIntArray( 33, 35, 7, 36, 31 ), PoolIntArray( 37, 38, 39, 40 ), PoolIntArray( 41, 42, 0, 43 ), PoolIntArray( 44, 45, 46, 10 ), PoolIntArray( 47, 31, 36, 48 ), PoolIntArray( 40, 47, 48, 37 ), PoolIntArray( 11, 18, 12 ), PoolIntArray( 49, 50, 51, 11, 10, 46 ), PoolIntArray( 44, 10, 52, 2 ), PoolIntArray( 2, 52, 3 ), PoolIntArray( 0, 3, 43 ), PoolIntArray( 41, 43, 53 ), PoolIntArray( 41, 53, 54, 55 ), PoolIntArray( 55, 54, 56, 57 ), PoolIntArray( 39, 57, 56 ), PoolIntArray( 39, 56, 40 ), PoolIntArray( 37, 48, 58 ) ]
outlines = [ PoolVector2Array( 656, 192, 624, 192, 624, 528, 576, 528, 576, 192, 304, 192, 176, 320, 144, 320, 144, 384, 176, 416, 176, 512, 160, 528, 160, 688, 304, 688, 336, 720, 608, 720, 832, 720, 832, 704, 944, 704, 944, 672, 1072, 672, 1072, 528, 1120, 480, 1168, 480, 1168, 384, 1088, 304, 1056, 304, 1056, 240, 992, 176, 672, 176 ), PoolVector2Array( 256, 560, 256, 400, 528, 400, 528, 416, 464, 416, 464, 528, 416, 528, 416, 416, 288, 416, 288, 528, 304, 528, 288, 544, 288, 560 ), PoolVector2Array( 208, 608, 336, 608, 336, 496, 368, 464, 368, 576, 512, 576, 512, 464, 528, 464, 528, 576, 720, 576, 720, 592, 352, 592, 352, 624, 224, 624, 224, 656, 208, 656 ) ]

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 10, 24 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 671.325, 416.5 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 672, 416.5 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 10, 32 )

[sub_resource type="PhysicsMaterial" id=6]

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 8, 8 )

[sub_resource type="PhysicsMaterial" id=8]

[sub_resource type="GDScript" id=9]
script/source = "extends StaticBody2D

var vec_to_target

func gethit(attacker, damage, push=1, attacking_object = null):
	if attacker == null: #usually bounce back from wall
		vec_to_target = -1 * vec_to_target
	else:
		if attacking_object == null:
			attacking_object = attacker
		vec_to_target = self.position - attacking_object.position
	
	
	$Blood.splatter(position - attacker.position)
	
#	$Blood.set_emitting(vec_to_target)
	return true"

[sub_resource type="RectangleShape2D" id=10]
extents = Vector2( 16, 24 )

[node name="Testlevel" type="Node2D"]
script = ExtResource( 1 )
__meta__ = {
"__editor_plugin_screen__": "2D",
"_edit_lock_": true
}

[node name="Camera" parent="." instance=ExtResource( 2 )]
position = Vector2( 2400, -208 )

[node name="Navigation2D" type="Navigation2D" parent="."]
editor/display_folded = true
z_index = 2
script = ExtResource( 3 )
__meta__ = {
"_edit_lock_": true
}
show_awareness = false

[node name="Wall" type="TileMap" parent="Navigation2D"]
tile_set = ExtResource( 4 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 655401, 1, 0, 655402, 1610612736, 0, 655403, 1610612736, 0, 655404, 1610612736, 0, 655405, 1610612736, 0, 655406, 1610612736, 0, 655407, 1610612736, 0, 655408, 1610612736, 0, 655409, 1610612736, 0, 655410, 1610612736, 0, 655411, 1610612736, 0, 655412, 1610612736, 0, 655413, 1610612736, 0, 655414, 1610612736, 0, 655415, 1610612736, 0, 655416, 1610612736, 0, 655417, 1610612736, 0, 655418, 1610612736, 0, 655419, 1610612736, 0, 655420, 1610612736, 0, 655421, 1610612736, 0, 655422, 536870913, 0, 655470, 1610612736, 0, 655471, 1610612736, 0, 655472, 1610612736, 0, 655473, 1610612736, 0, 655474, 1610612736, 0, 655475, 1610612736, 0, 655476, 1610612736, 0, 655477, 1610612736, 0, 655478, 1610612736, 0, 655479, 1610612736, 0, 655480, 1610612736, 0, 655481, 1610612736, 0, 655482, 1610612736, 0, 655483, 1610612736, 0, 655484, 1610612736, 0, 655485, 1610612736, 0, 655486, 1610612736, 0, 655487, 1610612736, 0, 655488, 1610612736, 0, 655489, 1610612736, 0, 655490, 1610612736, 0, 655491, 1610612736, 0, 655492, 1610612736, 0, 655493, 1610612736, 0, 655494, 1610612736, 0, 655495, 1610612736, 0, 655496, 1610612736, 0, 655497, 1610612736, 0, 655498, 1610612736, 0, 655499, 1610612736, 0, 655500, 1610612736, 0, 655501, 1610612736, 0, 655502, 1610612736, 0, 655503, 1610612736, 0, 655504, 1610612736, 0, 655505, 1610612736, 0, 655506, 1610612736, 0, 655507, 1610612736, 0, 655508, 1610612736, 0, 655509, 1610612736, 0, 655510, 1610612736, 0, 655511, 1610612736, 0, 655512, 1610612736, 0, 655513, 1610612736, 0, 655514, 1610612736, 0, 720914, 1, 0, 720915, 0, 0, 720916, 0, 0, 720917, 0, 0, 720918, 0, 0, 720919, 0, 0, 720920, 0, 0, 720921, 0, 0, 720922, 0, 0, 720923, 0, 0, 720924, 0, 0, 720925, 0, 0, 720926, 0, 0, 720927, 0, 0, 720928, 0, 0, 720929, 0, 0, 720930, 0, 0, 720931, 0, 0, 720932, 0, 0, 720933, 0, 0, 720934, 1610612736, 0, 720935, 1610612736, 0, 720936, 1610612736, 0, 720937, 1610612737, 0, 720958, 1073741825, 0, 720959, 536870913, 0, 721006, 1610612736, 0, 721007, 1610612736, 0, 721008, 1610612736, 0, 721009, 1610612736, 0, 721010, 1610612736, 0, 721011, 1610612736, 0, 721012, 1610612736, 0, 721013, 1610612736, 0, 721014, 1610612736, 0, 721015, 1610612736, 0, 721016, 1610612736, 0, 721017, 1610612736, 0, 721018, 1610612736, 0, 721019, 1610612736, 0, 721020, 1610612736, 0, 721021, 1610612736, 0, 721022, 1610612736, 0, 721023, 1610612736, 0, 721024, 1610612736, 0, 721025, 1610612736, 0, 721026, 1610612736, 0, 721027, 1610612736, 0, 721028, 1610612736, 0, 721029, 1610612737, 0, 721050, 1073741825, 0, 786449, 1, 0, 786450, 1610612737, 0, 786495, 1073741825, 0, 786496, 536870913, 0, 786542, 1610612737, 0, 786587, 1073741825, 0, 851984, 1, 0, 851985, 1610612737, 0, 852032, 1073741825, 0, 852033, 536870913, 0, 852077, 1610612737, 0, 852124, 1073741824, 0, 917519, 1, 0, 917520, 1610612737, 0, 917569, 1073741825, 0, 917570, 536870913, 0, 917612, 1610612737, 0, 917660, 1073741825, 0, 983054, 1, 0, 983055, 1610612737, 0, 983106, 1610612736, 0, 983147, 1610612737, 0, 983197, 1073741825, 0, 1048589, 1, 0, 1048590, 1610612737, 0, 1048642, 1610612736, 0, 1048682, 1610612737, 0, 1048734, 1073741825, 0, 1114124, 1, 0, 1114125, 1610612737, 0, 1114178, 1610612736, 0, 1114217, 1610612737, 0, 1114271, 1073741825, 0, 1179659, 1, 0, 1179660, 1610612737, 0, 1179714, 1610612736, 0, 1179715, 1610612736, 0, 1179716, 536870913, 0, 1179752, 1610612737, 0, 1179808, 1073741825, 0, 1245189, 0, 0, 1245190, 0, 0, 1245191, 0, 0, 1245192, 1610612736, 0, 1245193, 1610612736, 0, 1245194, 1610612736, 0, 1245195, 1610612737, 0, 1245252, 1073741825, 0, 1245253, 536870913, 0, 1245282, 0, 0, 1245283, 0, 0, 1245284, 0, 0, 1245285, 0, 0, 1245286, 0, 0, 1245287, 1610612737, 0, 1245345, 1073741824, 0, 1310725, 0, 0, 1310789, 1073741825, 0, 1310790, 536870913, 0, 1310818, 0, 0, 1310881, 1073741825, 0, 1376261, 0, 0, 1376326, 1073741825, 0, 1376327, 536870913, 0, 1376354, 0, 0, 1376418, 1073741825, 0, 1441797, 0, 0, 1441863, 1073741825, 0, 1441864, 536870913, 0, 1441890, 0, 0, 1441955, 1073741825, 0, 1507333, 0, 0, 1507334, 0, 0, 1507335, 0, 0, 1507336, 536870913, 0, 1507400, 1073741825, 0, 1507401, 0, 0, 1507402, 0, 0, 1507403, 0, 0, 1507426, 0, 0, 1507427, 0, 0, 1507428, 0, 0, 1507449, 1073741824, 0, 1507450, 1073741824, 0, 1507451, 1073741824, 0, 1507452, 1073741824, 0, 1507453, 1073741824, 0, 1507454, 1073741824, 0, 1507455, 1073741824, 0, 1507492, 1073741825, 0, 1507493, 1610612736, 0, 1572872, 1073741825, 0, 1572873, 536870913, 0, 1572939, 0, 0, 1572965, 536870913, 0, 1572985, 1073741824, 0, 1572991, 1073741824, 0, 1573029, 1610612736, 0, 1638409, 1073741825, 0, 1638410, 536870913, 0, 1638475, 0, 0, 1638502, 536870913, 0, 1638521, 1073741824, 0, 1638527, 1073741824, 0, 1638565, 1610612736, 0, 1703946, 1610612736, 0, 1704011, 0, 0, 1704038, 1610612736, 0, 1704057, 1073741824, 0, 1704063, 1073741824, 0, 1704101, 1610612736, 0, 1769482, 1610612736, 0, 1769545, 1610612736, 0, 1769546, 0, 0, 1769547, 0, 0, 1769574, 1610612736, 0, 1769593, 1073741824, 0, 1769594, 1073741824, 0, 1769595, 1073741824, 0, 1769596, 1073741824, 0, 1769597, 1073741824, 0, 1769598, 1073741824, 0, 1769599, 1073741824, 0, 1769637, 1610612736, 0, 1835018, 1610612736, 0, 1835081, 1610612736, 0, 1835110, 1610612736, 0, 1835173, 1610612736, 0, 1900554, 1610612736, 0, 1900617, 1610612736, 0, 1900646, 1610612736, 0, 1900709, 1610612736, 0, 1966090, 1610612736, 0, 1966149, 1, 0, 1966150, 1610612736, 0, 1966151, 1610612736, 0, 1966152, 1610612736, 0, 1966153, 1610612736, 0, 1966182, 1610612736, 0, 1966240, 1610612736, 0, 1966241, 1610612736, 0, 1966242, 1610612736, 0, 1966243, 1610612736, 0, 1966244, 1610612736, 0, 1966245, 1610612736, 0, 2031626, 1610612736, 0, 2031684, 1, 0, 2031685, 1610612737, 0, 2031718, 1610612736, 0, 2031776, 1610612736, 0, 2097158, 0, 0, 2097159, 0, 0, 2097160, 0, 0, 2097161, 0, 0, 2097162, 1610612737, 0, 2097219, 1, 0, 2097220, 1610612737, 0, 2097254, 1610612736, 0, 2097312, 1610612736, 0, 2162694, 0, 0, 2162755, 1610612736, 0, 2162790, 1610612736, 0, 2162848, 1610612736, 0, 2228230, 0, 0, 2228291, 1610612736, 0, 2228326, 1610612736, 0, 2228384, 1610612736, 0, 2293766, 0, 0, 2293827, 1610612736, 0, 2293862, 1610612736, 0, 2293920, 1610612736, 0, 2359302, 0, 0, 2359363, 1610612736, 0, 2359398, 1610612736, 0, 2359456, 1610612736, 0, 2424838, 0, 0, 2424839, 0, 0, 2424840, 0, 0, 2424841, 0, 0, 2424899, 1610612736, 0, 2424934, 1610612736, 0, 2424992, 1610612736, 0, 2490377, 1610612736, 0, 2490435, 1610612736, 0, 2490470, 1610612736, 0, 2490528, 1610612736, 0, 2555913, 1610612736, 0, 2555971, 1073741825, 0, 2555972, 536870913, 0, 2556006, 1610612736, 0, 2556064, 1610612736, 0, 2621449, 1610612736, 0, 2621508, 1610612736, 0, 2621542, 1610612736, 0, 2621600, 1610612736, 0, 2686985, 1610612736, 0, 2687044, 1610612736, 0, 2687078, 1610612736, 0, 2687136, 1610612736, 0, 2752521, 1073741825, 0, 2752522, 536870913, 0, 2752571, 1610612736, 0, 2752572, 1610612736, 0, 2752573, 1610612736, 0, 2752574, 1610612736, 0, 2752575, 1610612736, 0, 2752576, 1610612736, 0, 2752577, 1610612736, 0, 2752578, 1610612736, 0, 2752579, 1610612736, 0, 2752580, 1610612736, 0, 2752614, 1610612736, 0, 2752672, 1610612736, 0, 2818058, 1073741825, 0, 2818059, 1610612736, 0, 2818060, 1610612736, 0, 2818061, 0, 0, 2818062, 0, 0, 2818063, 0, 0, 2818064, 0, 0, 2818065, 0, 0, 2818066, 0, 0, 2818067, 536870913, 0, 2818107, 1610612736, 0, 2818150, 1610612736, 0, 2818208, 1610612736, 0, 2883603, 1073741825, 0, 2883604, 536870913, 0, 2883636, 1610612736, 0, 2883637, 1610612736, 0, 2883638, 1610612736, 0, 2883639, 1610612736, 0, 2883640, 1610612736, 0, 2883641, 1610612736, 0, 2883642, 1610612736, 0, 2883643, 1610612736, 0, 2883686, 1610612736, 0, 2883744, 1610612736, 0, 2949140, 1073741825, 0, 2949141, 0, 0, 2949142, 0, 0, 2949143, 0, 0, 2949144, 0, 0, 2949145, 0, 0, 2949146, 0, 0, 2949147, 0, 0, 2949148, 0, 0, 2949149, 1610612736, 0, 2949150, 1610612736, 0, 2949151, 1610612736, 0, 2949152, 1610612736, 0, 2949153, 1610612736, 0, 2949154, 1610612736, 0, 2949155, 1610612736, 0, 2949156, 1610612736, 0, 2949157, 1610612736, 0, 2949158, 1610612736, 0, 2949159, 1610612736, 0, 2949160, 1610612736, 0, 2949161, 1610612736, 0, 2949162, 1610612736, 0, 2949163, 1610612736, 0, 2949164, 1610612736, 0, 2949165, 1610612736, 0, 2949166, 1610612736, 0, 2949167, 1610612736, 0, 2949168, 1610612736, 0, 2949169, 1610612736, 0, 2949170, 1610612736, 0, 2949171, 1610612736, 0, 2949172, 1610612736, 0, 2949222, 1610612736, 0, 2949223, 1610612736, 0, 2949224, 1610612736, 0, 2949225, 1610612736, 0, 2949226, 1610612736, 0, 2949227, 1610612736, 0, 2949228, 1610612736, 0, 2949229, 1610612736, 0, 2949230, 1610612736, 0, 2949231, 1610612736, 0, 2949232, 1610612736, 0, 2949233, 1610612736, 0, 2949234, 1610612736, 0, 2949235, 1610612736, 0, 2949236, 1610612736, 0, 2949237, 1610612736, 0, 2949238, 1610612736, 0, 2949239, 1610612736, 0, 2949240, 1610612736, 0, 2949241, 1610612736, 0, 2949242, 1610612736, 0, 2949243, 1610612736, 0, 2949244, 1610612736, 0, 2949245, 1610612736, 0, 2949246, 1610612736, 0, 2949247, 1610612736, 0, 2949248, 1610612736, 0, 2949249, 1610612736, 0, 2949250, 1610612736, 0, 2949251, 1610612736, 0, 2949252, 1610612736, 0, 2949253, 1610612736, 0, 2949254, 1610612736, 0, 2949255, 1610612736, 0, 2949256, 1610612736, 0, 2949257, 1610612736, 0, 2949258, 1610612736, 0, 2949259, 1610612736, 0, 2949260, 1610612736, 0, 2949261, 1610612736, 0, 2949262, 1610612736, 0, 2949263, 1610612736, 0, 2949264, 1610612736, 0, 2949265, 1610612736, 0, 2949266, 1610612736, 0, 2949267, 1610612736, 0, 2949268, 1610612736, 0, 2949269, 1610612736, 0, 2949270, 1610612736, 0, 2949271, 1610612736, 0, 2949272, 1610612736, 0, 2949273, 1610612736, 0, 2949274, 1610612736, 0, 2949275, 1610612736, 0, 2949276, 1610612736, 0, 2949277, 1610612736, 0, 2949278, 1610612736, 0, 2949279, 1610612736, 0, 2949280, 1610612736, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
visible = false
navpoly = SubResource( 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="Background" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="Background" type="Sprite" parent="Background"]
editor/display_folded = true
texture = ExtResource( 5 )
centered = false
__meta__ = {
"_edit_lock_": true
}

[node name="Transition" type="Area2D" parent="Background/Background"]
editor/display_folded = true
position = Vector2( 1184, 408 )
z_index = 10
collision_layer = 0
collision_mask = 16400
script = ExtResource( 6 )
__meta__ = {
"_edit_group_": true
}
function = 0
npc_event = false
reset_monitoring = true
goal_path = NodePath("../../Background2/Transition")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Background/Background/Transition"]
shape = SubResource( 2 )

[node name="Position2D" type="Position2D" parent="Background/Background/Transition"]
position = Vector2( -40, 8 )

[node name="Label" type="Label" parent="Background/Background/Transition"]
margin_right = 40.0
margin_bottom = 14.0
text = "Transition"

[node name="Limiter" type="Area2D" parent="Background/Background"]
visible = false
position = Vector2( 672, 416.5 )
z_index = 10
collision_layer = 0
collision_mask = 16400
script = ExtResource( 7 )
__meta__ = {
"_edit_group_": true
}
function = 0
npc_event = false
reset_monitoring = true
map_item_proxy = ""
player_vignette = 1
is_outside = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Background/Background/Limiter"]
shape = SubResource( 3 )

[node name="Background2" type="Sprite" parent="Background"]
editor/display_folded = true
self_modulate = Color( 1, 0, 0, 1 )
position = Vector2( 1472, 0 )
texture = ExtResource( 5 )
centered = false
__meta__ = {
"_edit_lock_": true
}

[node name="Limiter" type="Area2D" parent="Background/Background2"]
editor/display_folded = true
visible = false
position = Vector2( 672, 416.5 )
collision_layer = 0
collision_mask = 16400
script = ExtResource( 7 )
function = 0
npc_event = true
reset_monitoring = true
map_item_proxy = ""
player_vignette = 1
is_outside = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Background/Background2/Limiter"]
shape = SubResource( 4 )

[node name="Transition" type="Area2D" parent="Background/Background2"]
editor/display_folded = true
position = Vector2( 120, 344 )
z_index = 10
collision_layer = 0
collision_mask = 16400
script = ExtResource( 6 )
__meta__ = {
"_edit_group_": true
}
function = 0
npc_event = false
reset_monitoring = true
goal_path = NodePath("../../Background/Transition")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Background/Background2/Transition"]
shape = SubResource( 5 )

[node name="Position2D" type="Position2D" parent="Background/Background2/Transition"]
position = Vector2( 48, 8 )

[node name="StaticBody2D" type="StaticBody2D" parent="Background"]
editor/display_folded = true
position = Vector2( 1000, 264 )
collision_layer = 0
collision_mask = 213056
physics_material_override = SubResource( 6 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Background/StaticBody2D"]
modulate = Color( 1, 0.773438, 0, 1 )
texture = ExtResource( 8 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Background/StaticBody2D"]
shape = SubResource( 7 )
one_way_collision = true

[node name="SaveStation" parent="Background" instance=ExtResource( 9 )]
position = Vector2( 440, 936 )

[node name="Foreground" type="YSort" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="PlayerDummy" parent="Foreground" instance=ExtResource( 10 )]
position = Vector2( 512, 384 )

[node name="CrateM23" parent="Foreground" instance=ExtResource( 11 )]
position = Vector2( 344, 256 )
physics_material_override = SubResource( 8 )
design = "CC"

[node name="CrateM25" parent="Foreground" instance=ExtResource( 11 )]
position = Vector2( 752, 320 )
physics_material_override = SubResource( 8 )
design = "CC"

[node name="CrateM26" parent="Foreground" instance=ExtResource( 11 )]
position = Vector2( 360, 224 )
physics_material_override = SubResource( 8 )
design = "CC"

[node name="CrateM27" parent="Foreground" instance=ExtResource( 11 )]
position = Vector2( 384, 248 )
physics_material_override = SubResource( 8 )
design = "CC"

[node name="Memory3" parent="Foreground" instance=ExtResource( 12 )]
position = Vector2( 566.648, 239.756 )
item = "HATE_A"

[node name="Memory4" parent="Foreground" instance=ExtResource( 12 )]
position = Vector2( 472, 239.265 )
item = "ALIBII"

[node name="AttackDummy" type="StaticBody2D" parent="Foreground"]
editor/display_folded = true
position = Vector2( 912, 240 )
collision_layer = 64
collision_mask = 81984
physics_material_override = SubResource( 6 )
script = SubResource( 9 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Foreground/AttackDummy"]
modulate = Color( 1, 0.773438, 0, 1 )
scale = Vector2( 0.25, 0.25 )
texture = ExtResource( 8 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Foreground/AttackDummy"]
shape = SubResource( 7 )

[node name="Blood" parent="Foreground/AttackDummy" instance=ExtResource( 13 )]

[node name="LetterDevice" parent="Foreground" instance=ExtResource( 14 )]
position = Vector2( 704, 248 )
dialog_line = "STORY_DG_LONG"

[node name="Collectible47" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 416, 504 )
type = "credit"

[node name="Collectible48" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 440, 504 )
type = "credit"

[node name="Collectible52" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 472, 504 )
type = "credit"

[node name="Collectible57" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 504, 504 )
type = "credit"

[node name="Collectible70" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 536, 504 )
type = "credit"

[node name="Collectible58" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 416, 488 )
type = "credit"

[node name="Collectible59" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 440, 488 )
type = "credit"

[node name="Collectible60" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 472, 488 )
type = "credit"

[node name="Collectible61" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 504, 488 )
type = "credit"

[node name="Collectible62" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 536, 488 )
type = "credit"

[node name="Collectible46" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 416, 472 )
type = "credit"

[node name="Collectible49" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 440, 472 )
type = "credit"

[node name="Collectible53" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 472, 472 )
type = "credit"

[node name="Collectible55" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 504, 472 )
type = "credit"

[node name="Collectible63" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 536, 472 )
type = "credit"

[node name="Collectible71" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 592, 472 )
type = "stamina"

[node name="Collectible50" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 416, 528 )
type = "credit"

[node name="Collectible51" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 440, 528 )
type = "credit"

[node name="Collectible54" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 472, 528 )
type = "credit"

[node name="Collectible56" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 504, 528 )
type = "credit"

[node name="Collectible69" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 536, 528 )
type = "credit"

[node name="Collectible64" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 416, 552 )
type = "credit"

[node name="Collectible65" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 440, 552 )
type = "credit"

[node name="Collectible66" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 472, 552 )
type = "credit"

[node name="Collectible67" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 504, 552 )
type = "credit"

[node name="Collectible68" parent="Foreground" instance=ExtResource( 15 )]
position = Vector2( 536, 552 )
type = "credit"

[node name="Position2D" type="Position2D" parent="."]
position = Vector2( 1778.2, 37.9081 )
scale = Vector2( 4, 4 )

[node name="Events" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="Timer" type="Timer" parent="Events"]
wait_time = 5.0

[node name="Tween" type="Tween" parent="Events"]

[node name="ExitA" type="Area2D" parent="Events"]
editor/display_folded = true
position = Vector2( 112, 344 )
script = ExtResource( 16 )
function = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="Events/ExitA"]
shape = SubResource( 10 )
__meta__ = {
"_edit_lock_": true
}

[node name="Label" type="Label" parent="Events/ExitA"]
margin_left = -8.0
margin_top = -24.0
margin_right = 55.0
margin_bottom = -10.0
text = "testscene"

[node name="Softpause" type="Area2D" parent="Events"]
editor/display_folded = true
position = Vector2( 248, 920 )
script = ExtResource( 16 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Events/Softpause"]
shape = SubResource( 10 )
__meta__ = {
"_edit_lock_": true
}

[node name="Label" type="Label" parent="Events/Softpause"]
margin_left = -8.0
margin_top = -24.0
margin_right = 55.0
margin_bottom = -10.0
text = "testscene"

[node name="ExitB" type="Area2D" parent="Events"]
editor/display_folded = true
position = Vector2( 136, 560 )
script = ExtResource( 16 )
function = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="Events/ExitB"]
shape = SubResource( 10 )
__meta__ = {
"_edit_lock_": true
}

[node name="Label2" type="Label" parent="Events/ExitB"]
margin_left = -16.0
margin_top = -24.0
margin_right = 24.0
margin_bottom = -10.0
text = "RV1"

[node name="TriggerArea" parent="Events" instance=ExtResource( 17 )]
position = Vector2( 672, 392 )
[connection signal="timeout" from="Events/Timer" to="." method="_on_Timer_timeout"]
[connection signal="trigger_activated" from="Events/TriggerArea" to="." method="_on_TriggerArea_trigger_activated"]
